## ¿Qué es la Cyber ​​Kill Chain?

Antes de empezar a hablar sobre la gestión de incidentes, debemos comprender el ciclo de vida de un ataque (también conocido como la cadena de ciberataque). Este ciclo describe cómo se manifiestan los ataques. Comprenderlo nos proporcionará información valiosa sobre la penetración de un atacante en la red y a qué puede tener acceso durante la fase de investigación de un incidente.

La cadena de eliminación cibernética consta de siete (7) etapas diferentes, como se muestra en la imagen a continuación: ![Diagrama de flujo de los pasos de la cadena de eliminación cibernética: reconocimiento, uso de armas, entrega, explotación, instalación, comando y control, acción.](https://academy.hackthebox.com/storage/modules/148/Cyber_kill_chain.png)

Esta `recon`etapa es la inicial y comprende la parte en la que el atacante elige su objetivo. Además, el atacante recopila información para familiarizarse con el objetivo y obtener la mayor cantidad de datos útiles posible, que pueden utilizarse no solo en esta etapa, sino también en otras de la cadena. Algunos atacantes prefieren recopilar información pasivamente de fuentes web como LinkedIn e Instagram, así como de la documentación en las páginas web de la organización objetivo. Las ofertas de empleo y los socios de la empresa suelen revelar información sobre la tecnología utilizada en la organización objetivo. Pueden proporcionar información muy específica sobre herramientas antivirus, sistemas operativos y tecnologías de red. Otros atacantes van un paso más allá; empiezan a investigar activamente las aplicaciones web externas y las direcciones IP de la organización objetivo.

En esta `weaponize`etapa, el malware que se utilizará para el acceso inicial se desarrolla e integra en algún tipo de exploit o carga útil entregable. Este malware está diseñado para ser extremadamente ligero e indetectable por los antivirus y las herramientas de detección. Es probable que el atacante haya recopilado información para identificar la tecnología antivirus o EDR presente en la organización objetivo. A gran escala, el único propósito de esta etapa inicial es proporcionar acceso remoto a una máquina comprometida en el entorno objetivo, que también tiene la capacidad de persistir tras reinicios de la máquina e implementar herramientas y funcionalidades adicionales bajo demanda.

En esta `delivery`etapa, el exploit o la carga útil se entrega a la(s) víctima(s). Los métodos tradicionales consisten en correos electrónicos de phishing que contienen un archivo adjunto malicioso o un enlace a una página web. La página web puede tener dos funciones: contener un exploit o alojar la carga útil maliciosa para evitar su envío a través de herramientas de análisis de correo electrónico. Siendo justos, la página web también puede imitar un sitio web legítimo utilizado por la organización objetivo para intentar engañar a la víctima y obtener sus credenciales. Algunos atacantes llaman a la víctima por teléfono con un pretexto de ingeniería social para intentar convencerla de que ejecute la carga útil. En estos casos, para ganarse la confianza, la carga útil se aloja en un sitio web controlado por el atacante que imita un sitio web conocido por la víctima (por ejemplo, una copia del sitio web de la organización objetivo). Es extremadamente raro entregar una carga útil que requiera que la víctima haga más que hacer doble clic en un archivo ejecutable o un script (en entornos Windows, estos pueden ser .bat, .cmd, .vbs, .js, .hta y otros formatos). Por último, hay casos en los que se utiliza la interacción física para entregar la carga útil a través de tokens USB y herramientas de almacenamiento similares que se dejan ahí deliberadamente.

La `exploitation`etapa es el momento en que se activa un exploit o una carga útil entregada. Durante la etapa de explotación de la cadena de ataque cibernético, el atacante suele intentar ejecutar código en el sistema objetivo para obtener acceso o control.

En esta `installation`etapa, se ejecuta el stager inicial en la máquina comprometida. Como ya se mencionó, la etapa de instalación puede llevarse a cabo de diversas maneras, según los objetivos del atacante y la naturaleza de la vulnerabilidad. Algunas técnicas comunes utilizadas en la etapa de instalación incluyen:

- **Droppers** : Los atacantes pueden usar droppers para distribuir malware en el sistema objetivo. Un dropper es un pequeño fragmento de código diseñado para instalar malware en el sistema y ejecutarlo. El dropper puede distribuirse a través de diversos medios, como archivos adjuntos de correo electrónico, sitios web maliciosos o tácticas de ingeniería social.
    
- **Puertas traseras** : Una puerta trasera es un tipo de malware diseñado para proporcionar al atacante acceso continuo al sistema comprometido. El atacante puede instalar la puerta trasera durante la fase de explotación o distribuirla mediante un dropper. Una vez instalada, puede utilizarse para ejecutar nuevos ataques o robar datos del sistema comprometido.
    
- **Rootkits** : Un rootkit es un tipo de malware diseñado para ocultar su presencia en un sistema comprometido. Se suelen utilizar en la fase de instalación para evadir la detección de antivirus y otras herramientas de seguridad. El atacante puede instalar el rootkit durante la fase de explotación o distribuirlo mediante un dropper.
    

En esta `command and control`etapa, el atacante establece acceso remoto a la máquina comprometida. Como se mencionó, no es raro usar una etapa inicial modular que carga scripts adicionales sobre la marcha. Sin embargo, los grupos avanzados utilizan herramientas independientes para garantizar que múltiples variantes de su malware se encuentren en una red comprometida y, si una de ellas se descubre y se contiene, aún tienen los medios para regresar al entorno.

La etapa final de la cadena es el `action`objetivo del ataque. El objetivo de cada ataque puede variar. Algunos adversarios pueden buscar exfiltrar datos confidenciales, mientras que otros pueden querer obtener el máximo acceso posible a una red para implementar ransomware. El ransomware es un tipo de malware que inutiliza o hace inaccesibles todos los datos almacenados en dispositivos y servidores a menos que se pague un rescate en un plazo limitado (no recomendado).

Es importante comprender que los adversarios no operan de forma lineal (como lo demuestra la cadena de ciberataque). Algunas etapas anteriores de la cadena de ciberataque se repetirán una y otra vez. Si tomamos, por ejemplo, la `installation`etapa de un ataque exitoso, el siguiente paso lógico para un adversario es iniciar la `recon`etapa de nuevo para identificar objetivos adicionales y encontrar vulnerabilidades que explotar, de modo que pueda penetrar más profundamente en la red y, finalmente, lograr el objetivo del ataque.

Nuestro objetivo es hacerlo `stop an attacker from progressing further up the kill chain`, idealmente, en una de las primeras etapas.
